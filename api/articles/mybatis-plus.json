{"title":"MyBatis-Plus体验","uid":"0817a21a48fa8ae8f6b7dc8a18bad753","slug":"mybatis-plus","date":"2021-06-03T01:35:11.000Z","updated":"2021-06-06T00:54:08.724Z","comments":true,"path":"api/articles/mybatis-plus.json","keywords":null,"cover":"https://baomidou.com/img/relationship-with-mybatis.png","content":"<h1 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1. 简介\"></a>1. 简介</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>MyBatis-Plus （简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生</p></blockquote>\n<h2 id=\"1-1-前置技能\"><a href=\"#1-1-前置技能\" class=\"headerlink\" title=\"1.1. 前置技能\"></a>1.1. 前置技能</h2><ul>\n<li>熟悉Java开发环境以及相应的IDE</li>\n<li>熟悉Spring Boot</li>\n<li>熟悉Maven</li>\n</ul>\n<h2 id=\"1-2-特性\"><a href=\"#1-2-特性\" class=\"headerlink\" title=\"1.2.特性\"></a>1.2.特性</h2><ul>\n<li><strong>无侵入</strong>：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li>\n<li><strong>损耗小</strong>：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li>\n<li><strong>强大的 CRUD 操作</strong>：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li>\n<li><strong>支持 Lambda 形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li>\n<li><strong>支持主键自动生成</strong>：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li>\n<li><strong>支持 ActiveRecord 模式</strong>：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li>\n<li><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）</li>\n<li><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li>\n<li><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li>\n<li><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li>\n<li><strong>内置性能分析插件</strong>：可输出 Sql 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li>\n<li><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</li>\n</ul>\n<h2 id=\"1-3-框架结构\"><a href=\"#1-3-框架结构\" class=\"headerlink\" title=\"1.3.框架结构\"></a>1.3.框架结构</h2><p><img src=\"https://baomidou.com/img/mybatis-plus-framework.jpg\"></p>\n<h1 id=\"2-初体验\"><a href=\"#2-初体验\" class=\"headerlink\" title=\"2.初体验\"></a>2.初体验</h1><h2 id=\"2-1-准备数据库、表\"><a href=\"#2-1-准备数据库、表\" class=\"headerlink\" title=\"2.1.准备数据库、表\"></a>2.1.准备数据库、表</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">DROP TABLE IF EXISTS user;\n-- 创建数据表 user\nCREATE TABLE user\n(\n\tid BIGINT(20) NOT NULL COMMENT &#39;主键ID&#39;,\n\tname VARCHAR(30) NULL DEFAULT NULL COMMENT &#39;姓名&#39;,\n\tage INT(11) NULL DEFAULT NULL COMMENT &#39;年龄&#39;,\n\temail VARCHAR(50) NULL DEFAULT NULL COMMENT &#39;邮箱&#39;,\n    create_time datetime NULL DEFAULT NULL COMMENT &#39;创建时间&#39;,\n    update_time datetime NULL DEFAULT NULL COMMENT &#39;更新时间&#39;,\n\tPRIMARY KEY (id)\n);\n\n-- 插入测试数据\nINSERT INTO user (id, name, age, email) VALUES\n(1, &#39;Jone&#39;, 18, &#39;test1@baomidou.com&#39;),\n(2, &#39;Jack&#39;, 20, &#39;test2@baomidou.com&#39;),\n(3, &#39;Tom&#39;, 28, &#39;test3@baomidou.com&#39;),\n(4, &#39;Sandy&#39;, 21, &#39;test4@baomidou.com&#39;),\n(5, &#39;Billie&#39;, 24, &#39;test5@baomidou.com&#39;);</code></pre>\n\n<h2 id=\"2-2-创建项目并引入相应mp\"><a href=\"#2-2-创建项目并引入相应mp\" class=\"headerlink\" title=\"2.2.创建项目并引入相应mp\"></a>2.2.创建项目并引入相应mp</h2><h3 id=\"2-2-1-创建项目\"><a href=\"#2-2-1-创建项目\" class=\"headerlink\" title=\"2.2.1.创建项目\"></a>2.2.1.创建项目</h3><p><img src=\"https://pic.img.api.xydwz.cn/imgs/2021/06/03/13fc6db81becc35f4d94846bc2d2df3b8d61a6289f3771a1.png\" alt=\"13fc6db81becc35f4d94846bc2d2df3b8d61a6289f3771a1.png\"></p>\n<h3 id=\"2-2-2-引入mybatis-plus\"><a href=\"#2-2-2-引入mybatis-plus\" class=\"headerlink\" title=\"2.2.2.引入mybatis-plus\"></a>2.2.2.引入mybatis-plus</h3><pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;properties&gt;\n        &lt;mp.version&gt;3.3.0&lt;&#x2F;mp.version&gt;\n&lt;&#x2F;properties&gt;\n\n&lt;dependency&gt;\n        &lt;groupId&gt;com.baomidou&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;mybatis-plus-boot-starter&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;$&#123;mp.version&#125;&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;</code></pre>\n\n<h3 id=\"2-3-3-pom文件\"><a href=\"#2-3-3-pom文件\" class=\"headerlink\" title=\"2.3.3.pom文件\"></a>2.3.3.pom文件</h3><pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 https:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;2.5.0&lt;&#x2F;version&gt;\n        &lt;relativePath&#x2F;&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;&#x2F;parent&gt;\n    &lt;groupId&gt;com.study&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mpdemo&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;&#x2F;version&gt;\n    &lt;name&gt;mpdemo&lt;&#x2F;name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;&#x2F;description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;&#x2F;java.version&gt;\n        &lt;mp.version&gt;3.3.0&lt;&#x2F;mp.version&gt;\n        &lt;druid.version&gt;1.1.18&lt;&#x2F;druid.version&gt;\n    &lt;&#x2F;properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;druid&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;$&#123;druid.version&#125;&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;$&#123;mp.version&#125;&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;&#x2F;artifactId&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;&#x2F;artifactId&gt;\n            &lt;scope&gt;runtime&lt;&#x2F;scope&gt;\n            &lt;optional&gt;true&lt;&#x2F;optional&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n            &lt;scope&gt;runtime&lt;&#x2F;scope&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;lombok&lt;&#x2F;artifactId&gt;\n            &lt;optional&gt;true&lt;&#x2F;optional&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;&#x2F;artifactId&gt;\n            &lt;scope&gt;test&lt;&#x2F;scope&gt;\n        &lt;&#x2F;dependency&gt;\n    &lt;&#x2F;dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;&#x2F;groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;&#x2F;artifactId&gt;\n                        &lt;&#x2F;exclude&gt;\n                    &lt;&#x2F;excludes&gt;\n                &lt;&#x2F;configuration&gt;\n            &lt;&#x2F;plugin&gt;\n        &lt;&#x2F;plugins&gt;\n    &lt;&#x2F;build&gt;\n\n&lt;&#x2F;project&gt;</code></pre>\n\n<h2 id=\"2-3-开始使用\"><a href=\"#2-3-开始使用\" class=\"headerlink\" title=\"2.3.开始使用\"></a>2.3.开始使用</h2><p><strong>1. 修改配置文件</strong></p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\">spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    type: com.alibaba.druid.pool.DruidDataSource\n    url: jdbc:mysql:&#x2F;&#x2F;127.0.0.1:3306&#x2F;mybatis-plus?serverTimezone&#x3D;GMT%2B8\n    username: root\n    password: ******\nserver:\n  port: 8080</code></pre>\n\n<p><strong>2. 在启动类上开启Mapper扫描</strong></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@SpringBootApplication\n@MapperScan(basePackages &#x3D; &quot;com.study.mpdemo.mapper&quot;)\npublic class MpdemoApplication &#123;\n    public static void main(String[] args) &#123;\n        SpringApplication.run(MpdemoApplication.class, args);\n    &#125;\n&#125;</code></pre>\n\n<p><strong>3. 创建User类</strong></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Data\npublic class User &#123;\n    private Long id;\n    private String name;\n    private Integer age;\n    private String email;\n    private LocalDateTime createTime;\n    private LocalDateTime updateTime;\n&#125;</code></pre>\n\n<p><strong>4. 编写Mapper接口</strong></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public interface UserMapper extends BaseMapper&lt;User&gt; &#123;\n\n&#125;   </code></pre>\n\n<p><strong>5. 编写测试类</strong></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@SpringBootTest\n@Slf4j\nclass MpdemoApplicationTests &#123;\n    @Autowired\n    private UserMapper userMapper;\n\n    @Test\n    void testBeginMapper() &#123;\n        List&lt;User&gt; users &#x3D; userMapper.selectList(null);\n        users.forEach(user -&gt; log.debug(&quot;&#123;&#125;&quot;,user));\n    &#125;\n\n&#125;</code></pre>\n\n<p><strong>6. 控制台打印结果</strong></p>\n<pre class=\"line-numbers language-text\" data-language=\"text\"><code class=\"language-text\">2021-06-04 16:47:21.201 [main] DEBUG c.s.m.mapper.UserMapper.selectList - &#x3D;&#x3D;&gt;  Preparing: SELECT id,name,age,email,create_time,update_time FROM user \n2021-06-04 16:47:21.224 [main] DEBUG c.s.m.mapper.UserMapper.selectList - &#x3D;&#x3D;&gt; Parameters: \n2021-06-04 16:47:21.253 [main] DEBUG c.s.m.mapper.UserMapper.selectList - &lt;&#x3D;&#x3D;      Total: 5\n2021-06-04 16:47:21.257 [main] DEBUG c.s.mpdemo.MpdemoApplicationTests - User(id&#x3D;1, name&#x3D;Jone, age&#x3D;18, email&#x3D;test1@baomidou.com, createTime&#x3D;null, updateTime&#x3D;null)\n2021-06-04 16:47:21.259 [main] DEBUG c.s.mpdemo.MpdemoApplicationTests - User(id&#x3D;2, name&#x3D;Jack, age&#x3D;20, email&#x3D;test2@baomidou.com, createTime&#x3D;null, updateTime&#x3D;null)\n2021-06-04 16:47:21.259 [main] DEBUG c.s.mpdemo.MpdemoApplicationTests - User(id&#x3D;3, name&#x3D;Tom, age&#x3D;28, email&#x3D;test3@baomidou.com, createTime&#x3D;null, updateTime&#x3D;null)\n2021-06-04 16:47:21.259 [main] DEBUG c.s.mpdemo.MpdemoApplicationTests - User(id&#x3D;4, name&#x3D;Sandy, age&#x3D;21, email&#x3D;test4@baomidou.com, createTime&#x3D;null, updateTime&#x3D;null)\n2021-06-04 16:47:21.259 [main] DEBUG c.s.mpdemo.MpdemoApplicationTests - User(id&#x3D;5, name&#x3D;Billie, age&#x3D;24, email&#x3D;test5@baomidou.com, createTime&#x3D;null, updateTime&#x3D;null)</code></pre>\n\n<h1 id=\"3-常用注解\"><a href=\"#3-常用注解\" class=\"headerlink\" title=\"3.常用注解\"></a>3.常用注解</h1><ul>\n<li><p><strong>@TableName</strong></p>\n<ul>\n<li>描述：表名注解</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"center\">属性</th>\n<th align=\"center\">类型</th>\n<th align=\"center\">必须指定</th>\n<th align=\"center\">默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">value</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td>表名</td>\n</tr>\n<tr>\n<td align=\"center\">schema</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td>schema</td>\n</tr>\n<tr>\n<td align=\"center\">keepGlobalPrefix</td>\n<td align=\"center\">boolean</td>\n<td align=\"center\">否</td>\n<td align=\"center\">false</td>\n<td>是否保持使用全局的 tablePrefix 的值(如果设置了全局 tablePrefix 且自行设置了 value 的值)</td>\n</tr>\n<tr>\n<td align=\"center\">resultMap</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td>xml 中 resultMap 的 id</td>\n</tr>\n<tr>\n<td align=\"center\">autoResultMap</td>\n<td align=\"center\">boolean</td>\n<td align=\"center\">否</td>\n<td align=\"center\">false</td>\n<td>是否自动构建 resultMap 并使用(如果设置 resultMap 则不会进行 resultMap 的自动构建并注入)</td>\n</tr>\n<tr>\n<td align=\"center\">excludeProperty</td>\n<td align=\"center\">String[]</td>\n<td align=\"center\">否</td>\n<td align=\"center\">{}</td>\n<td>需要排除的属性名(@since 3.3.1)</td>\n</tr>\n</tbody></table>\n</li>\n<li><p><strong>@TableId</strong></p>\n<ul>\n<li>描述：主键注解</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"center\">属性</th>\n<th align=\"center\">类型</th>\n<th align=\"center\">必须指定</th>\n<th align=\"center\">默认值</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">value</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">主键字段名</td>\n</tr>\n<tr>\n<td align=\"center\">type</td>\n<td align=\"center\">Enum</td>\n<td align=\"center\">否</td>\n<td align=\"center\">IdType.NONE</td>\n<td align=\"center\">主键类型</td>\n</tr>\n</tbody></table>\n<ul>\n<li>IdType</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"center\">值</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">AUTO</td>\n<td align=\"center\">数据库ID自增</td>\n</tr>\n<tr>\n<td align=\"center\">NONE</td>\n<td align=\"center\">无状态,该类型为未设置主键类型(注解里等于跟随全局,全局里约等于 INPUT)</td>\n</tr>\n<tr>\n<td align=\"center\">INPUT</td>\n<td align=\"center\">insert前自行set主键值</td>\n</tr>\n<tr>\n<td align=\"center\">ASSIGN_ID</td>\n<td align=\"center\">分配ID(主键类型为Number(Long和Integer)或String)(since 3.3.0),使用接口<code>IdentifierGenerator</code>的方法<code>nextId</code>(默认实现类为<code>DefaultIdentifierGenerator</code>雪花算法)</td>\n</tr>\n<tr>\n<td align=\"center\">ASSIGN_UUID</td>\n<td align=\"center\">分配UUID,主键类型为String(since 3.3.0),使用接口<code>IdentifierGenerator</code>的方法<code>nextUUID</code>(默认default方法)</td>\n</tr>\n<tr>\n<td align=\"center\">ID_WORKER</td>\n<td align=\"center\">分布式全局唯一ID 长整型类型(please use <code>ASSIGN_ID</code>)</td>\n</tr>\n<tr>\n<td align=\"center\">UUID</td>\n<td align=\"center\">32位UUID字符串(please use <code>ASSIGN_UUID</code>)</td>\n</tr>\n<tr>\n<td align=\"center\">ID_WORKER_STR</td>\n<td align=\"center\">分布式全局唯一ID 字符串类型(please use <code>ASSIGN_ID</code>)</td>\n</tr>\n</tbody></table>\n</li>\n<li><p><strong>@TableField</strong></p>\n<ul>\n<li>描述：字段注解</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"center\">属性</th>\n<th align=\"center\">类型</th>\n<th align=\"center\">必须指定</th>\n<th align=\"center\">默认值</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">value</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">数据库字段名</td>\n</tr>\n<tr>\n<td align=\"center\">el</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">映射为原生 <code>#&#123; ... &#125;</code> 逻辑,相当于写在 xml 里的 <code>#&#123; ... &#125;</code> 部分</td>\n</tr>\n<tr>\n<td align=\"center\">exist</td>\n<td align=\"center\">boolean</td>\n<td align=\"center\">否</td>\n<td align=\"center\">true</td>\n<td align=\"center\">是否为数据库表字段</td>\n</tr>\n<tr>\n<td align=\"center\">condition</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">字段 <code>where</code> 实体查询比较条件,有值设置则按设置的值为准,没有则为默认全局的 <code>%s=#&#123;%s&#125;</code>,<a href=\"https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlCondition.java\">参考(opens new window)</a></td>\n</tr>\n<tr>\n<td align=\"center\">update</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">字段 <code>update set</code> 部分注入, 例如：update=”%s+1”：表示更新时会set version=version+1(该属性优先级高于 <code>el</code> 属性)</td>\n</tr>\n<tr>\n<td align=\"center\">insertStrategy</td>\n<td align=\"center\">Enum</td>\n<td align=\"center\">N</td>\n<td align=\"center\">DEFAULT</td>\n<td align=\"center\">举例：NOT_NULL: <code>insert into table_a(&lt;if test=&quot;columnProperty != null&quot;&gt;column&lt;/if&gt;) values (&lt;if test=&quot;columnProperty != null&quot;&gt;#&#123;columnProperty&#125;&lt;/if&gt;)</code></td>\n</tr>\n<tr>\n<td align=\"center\">updateStrategy</td>\n<td align=\"center\">Enum</td>\n<td align=\"center\">N</td>\n<td align=\"center\">DEFAULT</td>\n<td align=\"center\">举例：IGNORED: <code>update table_a set column=#&#123;columnProperty&#125;</code></td>\n</tr>\n<tr>\n<td align=\"center\">whereStrategy</td>\n<td align=\"center\">Enum</td>\n<td align=\"center\">N</td>\n<td align=\"center\">DEFAULT</td>\n<td align=\"center\">举例：NOT_EMPTY: <code>where &lt;if test=&quot;columnProperty != null and columnProperty!=&#39;&#39;&quot;&gt;column=#&#123;columnProperty&#125;&lt;/if&gt;</code></td>\n</tr>\n<tr>\n<td align=\"center\">fill</td>\n<td align=\"center\">Enum</td>\n<td align=\"center\">否</td>\n<td align=\"center\">FieldFill.DEFAULT</td>\n<td align=\"center\">字段自动填充策略</td>\n</tr>\n<tr>\n<td align=\"center\">select</td>\n<td align=\"center\">boolean</td>\n<td align=\"center\">否</td>\n<td align=\"center\">true</td>\n<td align=\"center\">是否进行 select 查询</td>\n</tr>\n<tr>\n<td align=\"center\">keepGlobalFormat</td>\n<td align=\"center\">boolean</td>\n<td align=\"center\">否</td>\n<td align=\"center\">false</td>\n<td align=\"center\">是否保持使用全局的 format 进行处理</td>\n</tr>\n<tr>\n<td align=\"center\">jdbcType</td>\n<td align=\"center\">JdbcType</td>\n<td align=\"center\">否</td>\n<td align=\"center\">JdbcType.UNDEFINED</td>\n<td align=\"center\">JDBC类型 (该默认值不代表会按照该值生效)</td>\n</tr>\n<tr>\n<td align=\"center\">typeHandler</td>\n<td align=\"center\">Class&lt;? extends TypeHandler&gt;</td>\n<td align=\"center\">否</td>\n<td align=\"center\">UnknownTypeHandler.class</td>\n<td align=\"center\">类型处理器 (该默认值不代表会按照该值生效)</td>\n</tr>\n<tr>\n<td align=\"center\">numericScale</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">指定小数点后保留的位数</td>\n</tr>\n</tbody></table>\n</li>\n<li><p><strong>@Version</strong></p>\n<ul>\n<li>描述：乐观锁注解、标记<code>@Version</code>在字段上</li>\n</ul>\n</li>\n<li><p><strong>@EnumValue</strong></p>\n<ul>\n<li>描述：通枚举类注解，注解在枚举字段上</li>\n</ul>\n</li>\n<li><p><strong>@TableLogic</strong></p>\n<ul>\n<li>描述：表字段逻辑处理注解(逻辑删除)</li>\n</ul>\n</li>\n<li><p><strong>@KeySequence</strong></p>\n<ul>\n<li>描述：序列主键策略</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"center\">属性</th>\n<th align=\"center\">类型</th>\n<th align=\"center\">必须指定</th>\n<th align=\"center\">默认值</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">value</td>\n<td align=\"center\">String</td>\n<td align=\"center\">否</td>\n<td align=\"center\">“”</td>\n<td align=\"center\">序列名</td>\n</tr>\n<tr>\n<td align=\"center\">clazz</td>\n<td align=\"center\">Class</td>\n<td align=\"center\">否</td>\n<td align=\"center\">Long.class</td>\n<td align=\"center\">id的类型, 可以指定String.class，这样返回的Sequence值是字符串”1”</td>\n</tr>\n</tbody></table>\n</li>\n<li><p><strong>@OrderBy</strong></p>\n<ul>\n<li>描述：内置SQL默认指定排序，优先级低于wrapper条件查询</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"center\">属性</th>\n<th align=\"center\">类型</th>\n<th align=\"center\">必须指定</th>\n<th align=\"center\">默认值</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">isDesc</td>\n<td align=\"center\">boolean</td>\n<td align=\"center\">否</td>\n<td align=\"center\">是</td>\n<td align=\"center\">是否倒序查询</td>\n</tr>\n<tr>\n<td align=\"center\">sort</td>\n<td align=\"center\">sort</td>\n<td align=\"center\">否</td>\n<td align=\"center\">Short.MAX_VALUE</td>\n<td align=\"center\">数字越小越靠前</td>\n</tr>\n</tbody></table>\n<h1 id=\"4-核心功能\"><a href=\"#4-核心功能\" class=\"headerlink\" title=\"4.核心功能\"></a>4.核心功能</h1></li>\n</ul>\n","feature":false,"text":"1. 简介 MyBatis-Plus （简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生 1.1. 前置技能 熟悉Java开发环境以及相应的IDE 熟悉Spring Boot 熟悉Maven 1.2.特性 无侵...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":3,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"Java","slug":"Java","count":5,"path":"api/tags/Java.json"},{"name":"后端开发","slug":"后端开发","count":4,"path":"api/tags/后端开发.json"},{"name":"ORM","slug":"ORM","count":1,"path":"api/tags/ORM.json"},{"name":"MyBatis","slug":"MyBatis","count":1,"path":"api/tags/MyBatis.json"},{"name":"持久层","slug":"持久层","count":1,"path":"api/tags/持久层.json"},{"name":"数据库","slug":"数据库","count":1,"path":"api/tags/数据库.json"},{"name":"CRUD","slug":"CRUD","count":1,"path":"api/tags/CRUD.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">1. 简介</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-1-%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD\"><span class=\"toc-text\">1.1. 前置技能</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-2-%E7%89%B9%E6%80%A7\"><span class=\"toc-text\">1.2.特性</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-3-%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">1.3.框架结构</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E5%88%9D%E4%BD%93%E9%AA%8C\"><span class=\"toc-text\">2.初体验</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E8%A1%A8\"><span class=\"toc-text\">2.1.准备数据库、表</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%B9%B6%E5%BC%95%E5%85%A5%E7%9B%B8%E5%BA%94mp\"><span class=\"toc-text\">2.2.创建项目并引入相应mp</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-1-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">2.2.1.创建项目</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-2-%E5%BC%95%E5%85%A5mybatis-plus\"><span class=\"toc-text\">2.2.2.引入mybatis-plus</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-3-3-pom%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">2.3.3.pom文件</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3-%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">2.3.开始使用</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3\"><span class=\"toc-text\">3.常用注解</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">4.核心功能</span></a></li></ol>","author":{"name":"Markcwg","slug":"blog-author","avatar":"https://i.picsum.photos/id/1006/3000/2000.jpg?hmac=x83pQQ7LW1UTo8HxBcIWuRIVeN_uCg0cG6keXvNvM8g","link":"/","description":"多年以来，她一直在一处山中修道幽居，不来见我。何处山头？在我心中而已","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Mac(M1)常用环境安装","uid":"68fffcca682c31267962b9be63cae57a","slug":"mac","date":"2021-06-06T00:55:28.000Z","updated":"2021-06-06T08:00:59.538Z","comments":true,"path":"api/articles/mac.json","keywords":null,"cover":"https://www.apple.com.cn/v/macbook-pro-13/g/images/overview/hero_endframe__bsza6x4fldiq_large_2x.jpg","text":"1.引言 最近更换了Macbook Pro M1版，这也是第一次接触Mac，才一天时间就彻底征服我了。整理一下后端开发中常用的一些环境的安装 2.环境安装 话不多说，开搞 2.1 jdk安装 目前jdk有适配arm架构的zulu版本，直接下载安装即可 下载地址：https://w...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"知识分享","slug":"知识分享","count":1,"path":"api/categories/知识分享.json"}],"tags":[{"name":"Java","slug":"Java","count":5,"path":"api/tags/Java.json"},{"name":"后端开发","slug":"后端开发","count":4,"path":"api/tags/后端开发.json"},{"name":"Mac","slug":"Mac","count":2,"path":"api/tags/Mac.json"},{"name":"换机","slug":"换机","count":1,"path":"api/tags/换机.json"},{"name":"环境安装","slug":"环境安装","count":1,"path":"api/tags/环境安装.json"}],"author":{"name":"Markcwg","slug":"blog-author","avatar":"https://i.picsum.photos/id/1006/3000/2000.jpg?hmac=x83pQQ7LW1UTo8HxBcIWuRIVeN_uCg0cG6keXvNvM8g","link":"/","description":"多年以来，她一直在一处山中修道幽居，不来见我。何处山头？在我心中而已","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":false},"next_post":{}}